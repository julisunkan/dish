
{% extends "base.html" %}

{% block title %}Search Recipes - GlobalKitchen{% endblock %}

{% block content %}
<div class="fade-in">
    <h1>Discover Recipes</h1>

    <form method="POST" action="{{ url_for('search') }}" class="mb-4">
        <div class="input-group input-group-lg">
            <input type="text" class="form-control" name="query"
                   placeholder="Search for recipes... (e.g., pasta, chicken, cake)"
                   value="{{ search_query }}" required>
            <button class="btn btn-success" type="submit">Search</button>
        </div>
    </form>

    {% if search_query %}
        {% if recipes %}
            <div class="mb-3">
                <h3 style="font-weight: 600; color: var(--text-secondary); font-size: 16px;">
                    Found {{ recipes|length }} recipe{% if recipes|length != 1 %}s{% endif %} for "{{ search_query }}"
                </h3>
            </div>
            <div class="row g-4">
                {% for recipe in recipes %}
                <div class="col-md-6 col-lg-4">
                    <div class="card recipe-card" onclick="window.location='{{ url_for('recipe_detail', meal_id=recipe.idMeal) }}'">
                        <img src="{{ recipe.strMealThumb }}" class="card-img-top" alt="{{ recipe.strMeal }}">
                        <div class="card-body">
                            <h5 class="card-title">{{ recipe.strMeal }}</h5>
                            <div class="d-flex gap-2 mb-3">
                                <span class="badge bg-primary">{{ recipe.strCategory }}</span>
                                <span class="badge bg-info">{{ recipe.strArea }}</span>
                            </div>
                            <a href="{{ url_for('recipe_detail', meal_id=recipe.idMeal) }}"
                               class="btn btn-success w-100" onclick="event.stopPropagation()">View Recipe</a>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        {% else %}
            <div class="alert alert-warning">
                <h5 style="margin: 0 0 8px 0;">No recipes found</h5>
                <p style="margin: 0;">Try searching for "pasta", "chicken", "curry", or "cake"</p>
            </div>
        {% endif %}
    {% else %}
        <div class="text-center" style="padding: 60px 20px;">
            <div style="font-size: 64px; margin-bottom: 20px;">üç≥</div>
            <h3 style="color: var(--text-secondary); font-weight: 500; margin-bottom: 12px;">Start Your Culinary Journey</h3>
            <p style="color: var(--text-secondary); font-size: 15px;">Search for recipes from around the world</p>
        </div>
    {% endif %}
</div>
{% endblock %}
